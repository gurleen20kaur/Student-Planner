<body>
<h2>My Tasks</h2>

<section class="debug-box">
  <h3>Debug Info</h3>
  <p><strong>newTask:</strong> {{ newTask }}</p>
  <p><strong>All tasks:</strong> {{ taskTitles }}</p>
</section>

<form (ngSubmit)="addTask()">
  <input type="text"
         [(ngModel)]="newTask"
         name="task"
         placeholder="Enter a task"
         required />
  <button type="submit">Add Task</button>
</form>

<p *ngIf="tasks.length === 0">No Tasks added yet
  Add one now!
</p>

<ol *ngIf="tasks.length > 0" >
  <li *ngFor="let task of tasks; let i = index">
    {{ i + 1}} {{ task.title }}
    <select [(ngModel)]="task.status">
      <option>To Do</option>
      <option>Doing</option>
      <option>Done</option>
    </select>
    {{ task.createdAt | date: 'shortDate' }} {{ task.dueDate }}
    <button (click)="removeTask(i)" style="margin-left: 1rem;">Remove</button>
  </li>
</ol>

</body>